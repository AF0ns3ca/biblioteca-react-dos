import{j as e,r as g}from"./app-ALmxwxBw.js";import{d as O}from"./index-XXHw3VyS.js";import{a as i,i as u}from"./Footer-Dj3jyeoG.js";import{d as b}from"./BookmarkBorderOutlined-DbHrPerL.js";var d={},S=u;Object.defineProperty(d,"__esModule",{value:!0});var y=d.default=void 0,q=S(i()),C=e;y=d.default=(0,q.default)((0,C.jsx)("path",{d:"M12 9c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55m7 5.58c-2.53.34-4.93 1.3-7 2.82-2.06-1.52-4.47-2.49-7-2.83v-6.95c2.1.38 4.05 1.35 5.64 2.83L12 14.28l1.36-1.27c1.59-1.48 3.54-2.45 5.64-2.83z"}),"LocalLibraryOutlined");var c={},N=u;Object.defineProperty(c,"__esModule",{value:!0});var _=c.default=void 0,R=N(i()),I=e;_=c.default=(0,R.default)((0,I.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAllOutlined");var x={},M=u;Object.defineProperty(x,"__esModule",{value:!0});var j=x.default=void 0,z=M(i()),A=e;j=x.default=(0,z.default)((0,A.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDownOutlined");const B=({initialStatus:h,book:f,auth:p,showPage:m})=>{const[o,w]=g.useState(h),[v,r]=g.useState(!1),l=t=>{w(t),console.log("Book ID:",f.id),console.log("New Status:",t),t==="quiero_leer"?a("quiero_leer",!0,null,null):t==="leyendo"?a("leyendo",!1,new Date,null):t==="leido"&&a("leido",!1,null,new Date)},a=async(t,n,$,D)=>{await O.Inertia.post("/update-reading-status",{book_id:f.id,status:t,want_to_read:n,start_date:$,end_date:D})},s=t=>{switch(t){case"quiero_leer":return{icon:e.jsx(b,{}),text:"Quiero Leer"};case"leyendo":return{icon:e.jsx(y,{}),text:"Leyendo"};case"leido":return{icon:e.jsx(_,{}),text:"Leído"};default:return{icon:e.jsx(b,{}),text:"Quiero Leer"}}},L=p.user.role=="user"?"bg-metal":"bg-premium",k=p.user.role=="user"?"bg-metaldark":"bg-premiumdark";return e.jsxs("div",{className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>r(!v),className:`inline-flex justify-between w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 ${L} font-medium text-white hover:${k} focus:outline-none`,"aria-expanded":"true","aria-haspopup":"true",children:[e.jsx("span",{className:`w-full flex flex-row gap-1 ${m?"px-2":""}`,children:m?e.jsxs(e.Fragment,{children:[s(o).text,s(o).icon]}):s(o).icon}),e.jsx(j,{})]})}),v&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>{l("quiero_leer"),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Quiero Leer"}),e.jsx("button",{onClick:()=>{l("leyendo"),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Leyendo"}),e.jsx("button",{onClick:()=>{l("leido"),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Leído"})]})})]})},F=B;export{F as B};
