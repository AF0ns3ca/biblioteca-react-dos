import{r as G,l as oe}from"./app-BWqVOTto.js";import{d as ae}from"./index-DSZIrT3Y.js";const ue=G.createContext(),me=()=>{const e=G.useContext(ue);return e??!1};var ie,ce;function ee(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var se=ee(oe),o=G;ee(o);var b=ae;function h(){return(h=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var c=arguments[i];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e[f]=c[f])}return e}).apply(this,arguments)}function $(e,i){var c=o.useState(function(){var S=b.Inertia.restore(i);return S!==void 0?S:e}),f=c[0],s=c[1];return o.useEffect(function(){b.Inertia.remember(f,i)},[f,i]),[f,s]}var _=o.createContext();_.displayName="InertiaPageContext";var z=o.createContext();function le(e){var i=e.children,c=e.initialPage,f=e.resolveComponent,s=e.titleCallback,S=e.onHeadUpdate,m=o.useState({component:e.initialComponent||null,page:c,key:null}),l=m[0],x=m[1],u=o.useMemo(function(){return b.createHeadManager(typeof window>"u",s||function(d){return d},S||function(){})},[]);if(o.useEffect(function(){b.Inertia.init({initialPage:c,resolveComponent:f,swapComponent:function(d){var g=d.component,p=d.page,y=d.preserveState;try{return x(function(C){return{component:g,page:p,key:y?C.key:Date.now()}}),Promise.resolve()}catch(C){return Promise.reject(C)}}})},[]),!l.component)return o.createElement(z.Provider,{value:u},o.createElement(_.Provider,{value:l.page},null));var I=i||function(d){var g=d.Component,p=d.props,y=o.createElement(g,h({key:d.key},p));return typeof g.layout=="function"?g.layout(y):Array.isArray(g.layout)?g.layout.concat(y).reverse().reduce(function(C,k){return o.createElement(k,h({children:C},p))}):y};return o.createElement(z.Provider,{value:u},o.createElement(_.Provider,{value:l.page},I({Component:l.component,key:l.key,props:l.page.props})))}z.displayName="InertiaHeadContext",le.displayName="Inertia";var fe=["children","as","data","href","method","preserveScroll","preserveState","replace","only","headers","queryStringArrayFormat","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError"],P=function(){},de=o.forwardRef(function(e,i){var c=e.children,f=e.as,s=f===void 0?"a":f,S=e.data,m=S===void 0?{}:S,l=e.href,x=e.method,u=x===void 0?"get":x,I=e.preserveScroll,d=I!==void 0&&I,g=e.preserveState,p=g===void 0?null:g,y=e.replace,C=y!==void 0&&y,k=e.only,L=k===void 0?[]:k,N=e.headers,T=N===void 0?{}:N,D=e.queryStringArrayFormat,Q=D===void 0?"brackets":D,w=e.onClick,R=w===void 0?P:w,q=e.onCancelToken,A=q===void 0?P:q,B=e.onBefore,M=B===void 0?P:B,F=e.onStart,j=F===void 0?P:F,E=e.onProgress,n=E===void 0?P:E,r=e.onFinish,t=r===void 0?P:r,v=e.onCancel,a=v===void 0?P:v,H=e.onSuccess,J=H===void 0?P:H,K=e.onError,V=K===void 0?P:K,ne=function(O,re){if(O==null)return{};var W,U,Y={},Z=Object.keys(O);for(U=0;U<Z.length;U++)re.indexOf(W=Z[U])>=0||(Y[W]=O[W]);return Y}(e,fe),te=o.useCallback(function(O){R(O),b.shouldIntercept(O)&&(O.preventDefault(),b.Inertia.visit(l,{data:m,method:u,preserveScroll:d,preserveState:p??u!=="get",replace:C,only:L,headers:T,onCancelToken:A,onBefore:M,onStart:j,onProgress:n,onFinish:t,onCancel:a,onSuccess:J,onError:V}))},[m,l,u,d,p,C,L,T,R,A,M,j,n,t,a,J,V]);s=s.toLowerCase(),u=u.toLowerCase();var X=b.mergeDataIntoQueryString(u,l||"",m,Q);return l=X[0],m=X[1],s==="a"&&u!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="`+l+'" method="'+u+'" as="button">...</Link>'),o.createElement(s,h({},ne,s==="a"?{href:l}:{},{ref:i,onClick:te}),c)});ce=de,ie=function(){var e=[].slice.call(arguments),i=o.useRef(null),c=typeof e[0]=="string"?e[0]:null,f=o.useState((typeof e[0]=="string"?e[1]:e[0])||{}),s=f[0],S=f[1],m=o.useRef(null),l=o.useRef(null),x=c?$(s,c+":data"):o.useState(s),u=x[0],I=x[1],d=c?$({},c+":errors"):o.useState({}),g=d[0],p=d[1],y=o.useState(!1),C=y[0],k=y[1],L=o.useState(!1),N=L[0],T=L[1],D=o.useState(null),Q=D[0],w=D[1],R=o.useState(!1),q=R[0],A=R[1],B=o.useState(!1),M=B[0],F=B[1],j=function(n){return n};o.useEffect(function(){return i.current=!0,function(){i.current=!1}},[]);var E=o.useCallback(function(n,r,t){t===void 0&&(t={});var v=h({},t,{onCancelToken:function(a){if(m.current=a,t.onCancelToken)return t.onCancelToken(a)},onBefore:function(a){if(A(!1),F(!1),clearTimeout(l.current),t.onBefore)return t.onBefore(a)},onStart:function(a){if(T(!0),t.onStart)return t.onStart(a)},onProgress:function(a){if(w(a),t.onProgress)return t.onProgress(a)},onSuccess:function(a){if(i.current&&(T(!1),w(null),p({}),k(!1),A(!0),F(!0),l.current=setTimeout(function(){i.current&&F(!1)},2e3)),t.onSuccess)return t.onSuccess(a)},onError:function(a){if(i.current&&(T(!1),w(null),p(a),k(!0)),t.onError)return t.onError(a)},onCancel:function(){if(i.current&&(T(!1),w(null)),t.onCancel)return t.onCancel()},onFinish:function(){if(i.current&&(T(!1),w(null)),m.current=null,t.onFinish)return t.onFinish()}});n==="delete"?b.Inertia.delete(r,h({},v,{data:j(u)})):b.Inertia[n](r,j(u),v)},[u,p]);return{data:u,setData:function(n,r){var t;I(typeof n=="string"?h({},u,((t={})[n]=r,t)):typeof n=="function"?function(v){return n(v)}:n)},isDirty:!se(u,s),errors:g,hasErrors:C,processing:N,progress:Q,wasSuccessful:q,recentlySuccessful:M,transform:function(n){j=n},setDefaults:function(n,r){S(n===void 0?function(){return u}:function(t){var v;return h({},t,r?((v={})[n]=r,v):n)})},reset:function(){var n=[].slice.call(arguments);I(n.length===0?s:Object.keys(s).filter(function(r){return n.includes(r)}).reduce(function(r,t){return r[t]=s[t],r},h({},u)))},setError:function(n,r){p(function(t){var v,a=h({},t,r?((v={})[n]=r,v):n);return k(Object.keys(a).length>0),a})},clearErrors:function(){var n=[].slice.call(arguments);p(function(r){var t=Object.keys(r).reduce(function(v,a){var H;return h({},v,n.length>0&&!n.includes(a)?((H={})[a]=r[a],H):{})},{});return k(Object.keys(t).length>0),t})},submit:E,get:function(n,r){E("get",n,r)},post:function(n,r){E("post",n,r)},put:function(n,r){E("put",n,r)},patch:function(n,r){E("patch",n,r)},delete:function(n,r){E("delete",n,r)},cancel:function(){m.current&&m.current.cancel()}}};export{ce as L,ie as a,me as u};
